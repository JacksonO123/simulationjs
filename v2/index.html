<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Simulation.js v2</title>
		<script src="simulation.js"></script>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<script>
			const canvas = new Simulation('canvas', 60);
			canvas.fitElement();

			const collection = new SceneCollection();
			canvas.add(collection);

			const circle = new Circle(new Point(150, 150), 50, new Color(0, 0, 255));
			collection.add(circle);
			
			const square = new Square(new Point(350, 300), 100, 100, new Color(255, 0, 0), 100, 100);
			collection.add(square, 'sq');

			const poly = new Polygon(new Point(600, 600), [
				new Point(0, 0),
				new Point(100, 0),
				new Point(100, 200),
				new Point(0, 100)
			], new Color(0, 255, 0));
			canvas.add(poly);

			const line = new Line(new Point(100, 100), new Point(0, 0), 4, new Color(0, 255, 255));
			canvas.add(line);

			circle.on('hover', () => {
				circle.fill(new Color(255, 0, 0));
			}, () => {
				circle.fill(new Color(0, 0, 255));
			});

			square.on('hover', () => {
				square.fill(new Color(0, 255, 0));
			}, () => {
				square.fill(new Color(255, 0, 0));
			});

			function rotate() {
				setTimeout(() => {
					square.rotate(2);
					poly.rotate(2);
					line.rotate(2);
					rotate();
				}, 1000 / fps);
			}
			rotate();
		</script>
	</body>
</html>